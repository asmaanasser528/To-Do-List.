<div class="vh-100 py-3 mt-5">
  @if(errorMsg){
  <h4 class="text-center rounded alert alert-danger mx-auto w-50">
    {{ errorMsg }}
  </h4>
  }
  <form
    [formGroup]="loginForm"
    (ngSubmit)="login()"
    class="w-50 mx-auto shadow p-4 rounded my-4 bg-info"
  >
    <h2 class="text-center py-3 bg-light rounded">Login</h2>

    <div>
      <label for="">Email</label>
      <input
        type="email"
        class="form-control"
        formControlName="email"
        [ngClass]="{
          'is-invalid':
            loginForm.get('email')?.errors && loginForm.get('email')?.touched,
          'is-valid': !loginForm.get('email')?.errors
        }"
      />
      @if(loginForm.get('email')?.touched){
      <div class="my-1">
        @if(loginForm.get('email')?.getError("required")){
        <p class="text-danger alert alert-danger">email is required</p>
        } @if(loginForm.get('email')?.getError("email")){
        <p class="text-danger alert alert-danger">email is not valid</p>
        }
      </div>
      }
    </div>
    <div>
      <label for="">Password</label>
      <input
        type="password"
        class="form-control"
        formControlName="password"
        [ngClass]="{
          'is-invalid':
            loginForm.get('password')?.errors &&
            loginForm.get('password')?.touched,
          'is-valid': !loginForm.get('password')?.errors
        }"
      />
      @if(loginForm.get('password')?.touched){
      <div class="my-1">
        @if(loginForm.get('password')?.getError("required")){
        <p class="text-danger alert alert-danger">password is required</p>
        } @if(loginForm.get('password')?.getError("pattern")){
        <p class="text-danger alert alert-danger">password is not valid</p>
        }
      </div>
      }
    </div>

    <button
      type="submit"
      class="btn btn-danger my-3"
      [disabled]="loginForm.invalid"
    >
      Login
    </button>
  </form>
</div>
